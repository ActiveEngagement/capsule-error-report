(("undefined"!==typeof self?self:this)["webpackJsonpCapsuleErrorReport"]=("undefined"!==typeof self?self:this)["webpackJsonpCapsuleErrorReport"]||[]).push([[7],{"01f6":function(t,e,i){},"07d4":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("capsule-editor",{ref:"editor",attrs:{content:t.content,"disable-filename":"",filename:t.filename},scopedSlots:t._u([{key:"success",fn:function(e){var s=e.close,a=e.isShowing;return[n("slide-deck",{attrs:{active:t.active}},[n("div",{key:0},[n("div",{staticClass:"text-center position-relative"},[t.error||t.activity?t._e():n("div",[n("animate-css",{attrs:{name:"zoom",left:""}},[a?n("img",{staticClass:"capsule-editor-modal-logo",attrs:{src:i("8f33")}}):t._e()]),n("h1",{staticClass:"font-weight-light mb-4"},[t._v(" Document Fixed! ")]),n("h5",{staticClass:"font-weight-light mb-4 mx-5"},[t._v(" Do you want to automatically send it back to us or download it and manually email it as an attachment? ")]),n("div",{staticClass:"mb-5"},[n("btn",{staticClass:"mr-2",attrs:{size:"lg",variant:"success"},on:{click:t.onClickSend}},[n("font-awesome-icon",{attrs:{icon:"envelope"}}),t._v(" Send Now ")],1),n("btn",{attrs:{size:"lg",variant:"success",outline:""},on:{click:t.onClickDownload}},[n("font-awesome-icon",{attrs:{icon:"download"}}),t._v(" Download ")],1)],1)],1),n("animate-css",{attrs:{name:"fade",up:"","leave-active-class":"position-absolute w-100 h-100"}},[t.activity?n("div",{staticClass:"my-5 py-5"},[n("div",{staticClass:"my-5"},[n("hourglass",{attrs:{label:t.hourGlassLabel,animate:""}})],1)]):t.error?n("http-exception",{attrs:{error:t.error}},[n("div",{staticClass:"text-center"},[n("btn",{staticClass:"mr-2",attrs:{size:"lg"},on:{click:t.onClickSend}},[n("font-awesome-icon",{attrs:{icon:"redo"}}),t._v(" Try Again ")],1),n("btn",{attrs:{size:"lg",variant:"secondary"},on:{click:function(e){return t.onClickCancel(s)}}},[n("font-awesome-icon",{attrs:{icon:"times-circle"}}),t._v(" Cancel ")],1)],1)]):t._e()],1)],1)]),n("div",{key:1},[n("animate-css",{attrs:{name:"fade","leave-active-class":"position-absolute w-100 h-100"}},[n("div",{staticClass:"text-center position-relative my-5"},[n("font-awesome-icon",{staticClass:"text-success",attrs:{icon:"check-circle",size:"6x"}}),n("h1",{staticClass:"font-weight-light mt-3 mb-0"},[t._v(" Thank You! ")]),n("h5",{staticClass:"font-weight-light my-4 mx-5 px-1"},[t._v(" Thank you for your assistance in fixing these errors. We have received your document and will process it shortly. ")]),n("btn",{attrs:{size:"lg"},on:{click:t.onClickClose}},[n("font-awesome-icon",{attrs:{icon:"window-close"}}),t._v(" Close Window ")],1)],1)])],1),t.download?n("div",{key:2},[n("div",{staticClass:"text-center position-relative my-5"},[n("font-awesome-icon",{staticClass:"text-secondary",attrs:{icon:["far","file-archive"],size:"6x"}}),n("h1",{staticClass:"font-weight-light mt-3 mb-0"},[t._v(" File Downloaded! ")]),n("h4",{staticClass:"font-weight-light mt-3 mb-1"},[t._v(" "+t._s(t.download.zipname)+" ")]),n("h5",{staticClass:"font-weight-light mb-4"},[t._v(" ("+t._s(t.download.size)+") ")]),n("div",[n("btn",{staticClass:"mr-2",attrs:{size:"lg",variant:"success"},on:{click:t.onClickDownloadAgain}},[n("font-awesome-icon",{attrs:{icon:"download"}}),t._v(" Download Again ")],1)],1)],1)]):t._e()])]}}]),model:{value:t.editor,callback:function(e){t.editor=e},expression:"editor"}})},s=[],a=i("d6e7"),o=i("53e3"),l=i("92a7"),r=i("6610"),c=i("5eb8");function d(t,e){return new Promise((i,n)=>{t instanceof Blob||(t=new Blob([t],{type:"text/html"}));const s=document.createElement("a");s.setAttribute("href",URL.createObjectURL(t)),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),i()})}var h=i("bc3a"),u=i.n(h),m=i("72fe"),f=i.n(m);function v(t,e={},i){return e.key=e.key||f()(e.filename).toString(),new Promise((n,s)=>{u.a.post(t,e,i).then(t=>{n(t.data)},t=>{s(t)})})}function p(t,e){return new Promise((n,s)=>{i.e(13).then(i.t.bind(null,"c4e3",7)).then(i=>{var a=new i.default;a.folder(e.replace(/\.html$/,"")).file(e,t),a.generateAsync({type:"blob"}).then(n,s)})})}var w=i("ecee"),C=i("ad3d"),b=i("b702"),g=i("c074");w["c"].add(g["b"],g["d"],g["e"],b["b"],g["l"],g["m"],g["o"]);var y={components:{AnimateCss:a["a"],CapsuleEditor:()=>Promise.all([i.e(10),i.e(5)]).then(i.bind(null,"026f")),Btn:o["a"],FontAwesomeIcon:C["a"],Hourglass:r["a"],HttpException:c["a"],SlideDeck:l["a"]},props:{content:{type:String,required:!0},filename:{type:String,required:!0},signedUrl:{type:String,required:!0}},data(){return{active:0,activity:!1,currentContent:this.content,download:null,editor:null,error:null}},watch:{editor({content:t}){this.currentContent=t}},methods:{formatBytes(t){const e=["Bytes","KB","MB","GB","TB"];if(0==t)return"0 Byte";const i=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,i),2)+" "+e[i]},onClickSend(){this.error=null,this.activity=!0,this.hourGlassLabel="Sending...",setTimeout(()=>{v(this.signedUrl,{filename:this.currentFilename,revised_html:this.currentContent,original_html:this.originalContents},this.httpRequestOptions).then(()=>{this.active=1,this.error=null,this.activity=!1},t=>{this.error=t,this.activity=!1})},750)},onClickCancel(t){t(),this.active=0,this.error=null},onClickDownloadAgain(){d(this.download.blob,this.download.zipname)},async onClickDownload(){this.hourGlassLabel="Generating...",this.activity=!0;const t=await p(this.currentContent,this.filename);this.download={blob:t,filename:this.filename,size:this.formatBytes(t.size),zipname:this.filename.replace(/\.html/,".zip")},setTimeout(()=>{d(t,this.download.zipname),this.active=2,this.activity=!1},1e3)},onClickClose(){window.close()}}},k=y,_=(i("0a44"),i("2877")),x=Object(_["a"])(k,n,s,!1,null,null,null);e["default"]=x.exports},"0a44":function(t,e,i){"use strict";i("26bd")},2:function(t,e){},"26bd":function(t,e,i){},"5eb8":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"http-exception",class:{fixed:t.fixed}},[i("div",{staticClass:"d-flex flex-column justify-content-center align-items-center w-100 h-100"},[i("div",{staticClass:"http-exception-content my-5"},[i("div",{staticClass:"text-center mx-5 mb-3 p-4"},[i("icon",{attrs:{icon:"bomb",size:"6x"}})],1),i("h1",{staticClass:"font-weight-light mb-4"},[t._v(" Something went wrong.... ")]),i("alert",[i("h4",{staticClass:"font-weight-light m-3"},[t._v(" "+t._s(t.error)+" ")]),i("ul",{staticClass:"mt-3"},[t._l(t.error.response.data.errors,(function(e){return t._l(e,(function(e,n){return i("li",{key:n},[i("h5",[t._v(t._s(e))])])}))}))],2)]),t._t("default")],2)])])},s=[],a=i("c3d5"),o=i("c074"),l=i("ecee"),r=i("ad3d");l["c"].add(o["a"]);var c={name:"HttpException",components:{Icon:r["a"],Alert:a["a"]},props:{error:Error,fixed:Boolean}},d=c,h=(i("9d49"),i("2877")),u=Object(h["a"])(d,n,s,!1,null,null,null);e["a"]=u.exports},"8f33":function(t,e,i){t.exports=i.p+"src/assets/img/logo-no-text-1028x1028.8aa291ba.png"},"9d49":function(t,e,i){"use strict";i("01f6")}}]);
//# sourceMappingURL=CapsuleErrorReport.umd.min.editor.js.map