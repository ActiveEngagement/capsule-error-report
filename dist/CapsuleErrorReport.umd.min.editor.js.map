{"version":3,"sources":["webpack://CapsuleErrorReport/./src/Components/Editor.vue?f1cf","webpack://CapsuleErrorReport/src/Components/Editor.vue","webpack://CapsuleErrorReport/./src/Components/Editor.vue?cebd","webpack://CapsuleErrorReport/./src/Components/Editor.vue?1f7d","webpack://CapsuleErrorReport/./src/Components/Editor.vue?e7b6"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","team","lint","errors","filename","apiKey","html","environment","on","onLintError","onLintSuccess","$event","$router","push","name","scopedSlots","_u","key","fn","active","staticClass","activity","error","_e","_v","onClickSend","onClickDownload","hourGlassLabel","onClickCancel","onClickClose","_s","download","zipname","size","onClickDownloadAgain","proxy","model","value","callback","$$v","editor","expression","staticRenderFns","throttled","component"],"mappings":"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","file":"CapsuleErrorReport.umd.min.editor.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('capsule-editor',{ref:\"editor\",attrs:{\"demo-mode\":\"\",\"team\":_vm.team,\"errors\":_vm.lint.errors,\"filename\":_vm.lint.filename,\"api-key\":_vm.apiKey,\"contents\":_vm.lint.html,\"environment\":_vm.environment},on:{\"lint-errors\":_vm.onLintError,\"lint-success\":_vm.onLintSuccess,\"close\":function($event){return _vm.$router.push({name: 'home'})}},scopedSlots:_vm._u([{key:\"success\",fn:function(){return [_c('slide-deck',{attrs:{\"active\":_vm.active}},[_c('div',{key:0},[_c('div',{staticClass:\"text-center position-relative\"},[_c('animate-css',{attrs:{\"name\":\"fade\",\"up\":\"\",\"leave-active-class\":\"position-absolute w-100 h-100\"}},[(!_vm.activity && !_vm.error)?_c('div',[_c('img',{staticClass:\"capsule-editor-modal-logo\",attrs:{\"src\":require(\"capsule-editor/src/assets/logo-no-text-1028x1028.png\")}}),_c('h1',{staticClass:\"font-weight-light mb-4\"},[_vm._v(\"Document Fixed!\")]),_c('h5',{staticClass:\"font-weight-light mb-4 mx-5\"},[_vm._v(\"Do you want to automatically send it back to us or download it and manually email it as an attachment?\")]),_c('div',{staticClass:\"mb-5\"},[_c('btn',{staticClass:\"mr-2\",attrs:{\"size\":\"lg\",\"variant\":\"success\"},on:{\"click\":_vm.onClickSend}},[_c('icon',{attrs:{\"icon\":\"envelope\"}}),_vm._v(\" Send Now\")],1),_c('btn',{attrs:{\"size\":\"lg\",\"variant\":\"success\",\"outline\":\"\"},on:{\"click\":_vm.onClickDownload}},[_c('icon',{attrs:{\"icon\":\"download\"}}),_vm._v(\" Download\")],1)],1)]):_vm._e()]),_c('animate-css',{attrs:{\"name\":\"fade\",\"up\":\"\",\"leave-active-class\":\"position-absolute w-100 h-100\"}},[(_vm.activity)?_c('div',{staticClass:\"my-5 py-5\"},[_c('div',{staticClass:\"my-5\"},[_c('hourglass',{attrs:{\"label\":_vm.hourGlassLabel,\"animate\":\"\"}})],1)]):(_vm.error)?_c('http-exception',{attrs:{\"error\":_vm.error}},[_c('div',{staticClass:\"text-center\"},[_c('btn',{staticClass:\"mr-2\",attrs:{\"size\":\"lg\"},on:{\"click\":_vm.onClickSend}},[_c('icon',{attrs:{\"icon\":\"redo\"}}),_vm._v(\" Try Again\\n                                \")],1),_c('btn',{attrs:{\"size\":\"lg\",\"variant\":\"secondary\"},on:{\"click\":_vm.onClickCancel}},[_c('icon',{attrs:{\"icon\":\"times-circle\"}}),_vm._v(\" Cancel\\n                                \")],1)],1)]):_vm._e()],1)],1)]),_c('div',{key:1},[_c('animate-css',{attrs:{\"name\":\"fade\",\"leave-active-class\":\"position-absolute w-100 h-100\"}},[_c('div',{staticClass:\"text-center position-relative my-5\"},[_c('icon',{staticClass:\"text-success\",attrs:{\"icon\":\"check-circle\",\"size\":\"6x\"}}),_c('h1',{staticClass:\"font-weight-light mt-3 mb-0\"},[_vm._v(\"Thank You!\")]),_c('h5',{staticClass:\"font-weight-light my-4 mx-5 px-1\"},[_vm._v(\"Thank you for your assistance in fixing these errors. We have received your document and will process it shortly.\")]),_c('btn',{attrs:{\"size\":\"lg\"},on:{\"click\":_vm.onClickClose}},[_c('icon',{attrs:{\"icon\":\"window-close\"}}),_vm._v(\" Close Window\\n                        \")],1)],1)])],1),_c('div',{key:2},[_c('div',{staticClass:\"text-center position-relative my-5\"},[_c('icon',{staticClass:\"text-secondary\",attrs:{\"icon\":['far', 'file-archive'],\"size\":\"6x\"}}),_c('h1',{staticClass:\"font-weight-light mt-3 mb-0\"},[_vm._v(\"File Downloaded!\")]),_c('h4',{staticClass:\"font-weight-light mt-3 mb-1\"},[_vm._v(_vm._s(_vm.download.zipname))]),_c('h5',{staticClass:\"font-weight-light mb-4\"},[_vm._v(\"(\"+_vm._s(_vm.download.size)+\")\")]),_c('div',[_c('btn',{staticClass:\"mr-2\",attrs:{\"size\":\"lg\",\"variant\":\"success\"},on:{\"click\":_vm.onClickDownloadAgain}},[_c('icon',{attrs:{\"icon\":\"download\"}}),_vm._v(\" Download Again\\n                        \")],1),_c('btn',{attrs:{\"size\":\"lg\"},on:{\"click\":_vm.onClickClose}},[_c('icon',{attrs:{\"icon\":\"window-close\"}}),_vm._v(\" Close Window\\n                        \")],1)],1)],1)])])]},proxy:true}]),model:{value:(_vm.editor),callback:function ($$v) {_vm.editor=$$v},expression:\"editor\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n    <capsule-editor\n        ref=\"editor\"\n        demo-mode\n        v-model=\"editor\"\n        :team=\"team\"\n        :errors=\"lint.errors\"\n        :filename=\"lint.filename\"\n        :api-key=\"apiKey\"\n        :contents=\"lint.html\"\n        :environment=\"environment\"\n        @lint-errors=\"onLintError\"\n        @lint-success=\"onLintSuccess\"\n        @close=\"$router.push({name: 'home'})\">\n\n        <template #success>\n            <slide-deck :active=\"active\">\n                <div :key=\"0\">\n                    <div class=\"text-center position-relative\">\n                        <animate-css name=\"fade\" up leave-active-class=\"position-absolute w-100 h-100\">\n                            <div v-if=\"!activity && !error\">\n                                <img src=\"~capsule-editor/src/assets/logo-no-text-1028x1028.png\" class=\"capsule-editor-modal-logo\" />\n                                <h1 class=\"font-weight-light mb-4\">Document Fixed!</h1>\n                                <h5 class=\"font-weight-light mb-4 mx-5\">Do you want to automatically send it back to us or download it and manually email it as an attachment?</h5>\n                                <div class=\"mb-5\">\n                                    <btn size=\"lg\" variant=\"success\" class=\"mr-2\" @click=\"onClickSend\"><icon icon=\"envelope\" /> Send Now</btn>\n                                    <btn size=\"lg\" variant=\"success\" outline @click=\"onClickDownload\"><icon icon=\"download\" /> Download</btn>\n                                </div>\n                            </div>\n                        </animate-css>\n                        <animate-css name=\"fade\" up leave-active-class=\"position-absolute w-100 h-100\">\n                            <div v-if=\"activity\" class=\"my-5 py-5\">\n                                <div class=\"my-5\">\n                                    <hourglass :label=\"hourGlassLabel\" animate />\n                                </div>\n                            </div>\n                            <http-exception v-else-if=\"error\" :error=\"error\">\n                                <div class=\"text-center\">\n                                    <btn size=\"lg\" class=\"mr-2\" @click=\"onClickSend\">\n                                        <icon icon=\"redo\" /> Try Again\n                                    </btn>\n                                    <btn size=\"lg\" variant=\"secondary\" @click=\"onClickCancel\">\n                                        <icon icon=\"times-circle\" /> Cancel\n                                    </btn>\n                                </div>\n                            </http-exception>\n                        </animate-css>\n                    </div>\n                </div>\n                <div :key=\"1\">\n                    <animate-css name=\"fade\" leave-active-class=\"position-absolute w-100 h-100\">\n                        <div class=\"text-center position-relative my-5\">\n                            <icon icon=\"check-circle\" size=\"6x\" class=\"text-success\" />\n                            <h1 class=\"font-weight-light mt-3 mb-0\">Thank You!</h1>\n                            <h5 class=\"font-weight-light my-4 mx-5 px-1\">Thank you for your assistance in fixing these errors. We have received your document and will process it shortly.</h5>\n                            <btn size=\"lg\" @click=\"onClickClose\">\n                                <icon icon=\"window-close\" /> Close Window\n                            </btn>\n                        </div>\n                    </animate-css>\n                </div>\n                <div :key=\"2\">\n                    <div class=\"text-center position-relative my-5\">\n                        <icon :icon=\"['far', 'file-archive']\" size=\"6x\" class=\"text-secondary\" />\n                        <h1 class=\"font-weight-light mt-3 mb-0\">File Downloaded!</h1>\n                        <h4 class=\"font-weight-light mt-3 mb-1\">{{ download.zipname }}</h4>\n                        <h5 class=\"font-weight-light mb-4\">({{ download.size }})</h5>\n                        <div>\n                            <btn class=\"mr-2\" size=\"lg\" variant=\"success\" @click=\"onClickDownloadAgain\">\n                                <icon icon=\"download\" /> Download Again\n                            </btn>\n                            <btn size=\"lg\" @click=\"onClickClose\">\n                                <icon icon=\"window-close\" /> Close Window\n                            </btn>\n                        </div>\n                    </div>\n                </div>\n            </slide-deck>\n        </template>\n        \n    </capsule-editor>\n       \n</template>\n\n<script>\nimport { throttle } from 'lodash';\nimport Hourglass from 'vue-hourglass';\nimport HttpException from './HttpException';\nimport Btn from 'vue-interface/src/Components/Btn';\nimport { download, revision, zip } from '@/Helpers/Functions';\nimport SlideDeck from 'vue-interface/src/Components/SlideDeck';\nimport AnimateCss from 'vue-interface/src/Components/AnimateCss';\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/vue-fontawesome';\nimport { faFileArchive } from '@fortawesome/free-regular-svg-icons';\nimport { faEnvelope, faDownload, faCheckCircle, faTimesCircle, faWindowClose, faRedo } from '@fortawesome/free-solid-svg-icons';\n\nlibrary.add(faRedo);\nlibrary.add(faEnvelope);\nlibrary.add(faDownload);\nlibrary.add(faCheckCircle);\nlibrary.add(faFileArchive);\nlibrary.add(faTimesCircle);\nlibrary.add(faWindowClose);\n\nconst throttled = throttle(fn => {\n    fn && fn();\n}, 2500);\n\nexport default {\n    \n    name: 'Editor',\n\n    components: {\n        Btn,\n        Icon,\n        Hourglass,\n        SlideDeck,\n        AnimateCss,\n        HttpException,\n        CapsuleEditor: () => import(/* webpackChunkName: 'capsule-editor' */'capsule-editor/src/Editor'),\n    },\n\n    props: {\n        \n        lint: {\n            type: Object,\n            required: true\n        },\n\n        team: {\n            type: [Number, Object],\n            required: true\n        },\n\n        errors: Array,\n\n        apiKey: {\n            type: String,\n            required: true\n        },\n\n        environment: {\n            type: String,\n            default() {\n                return process.env.NODE_ENV;\n            }\n        }\n    },\n\n    data() {\n        const errors = this.errors || [];\n\n        return {\n            active: 0,\n            error: null,\n            editor: null,\n            revision: null,\n            activity: false,\n            download: {\n                blob: null,\n                size: null,\n                zipname: null,\n                filename: null,\n            },\n            hourGlassLabel: null,\n            originalErrors: this.errors,\n            currentErrors: errors.slice(0),\n            currentFilename: this.lint.filename,\n            originalFilename: this.lint.filename,\n            currentContents: this.lint.html || this.getSlotContents(),\n            originalContents: this.lint.html || this.getSlotContents()\n        };\n    },\n\n    computed: {\n\n        httpRequestOptions() {\n            return {\n                baseURL: `http://api.thecapsule.${this.environment === 'production' ? 'email' : 'test'}/v1`,\n                headers: {\n                    Authorization: `Bearer ${this.apiKey}`\n                }\n            };\n        }\n        \n    },\n\n    watch: {\n\n\n        editor({ filename, contents }) {\n            this.currentFilename = filename;\n            this.currentContents = contents;\n        }\n    },\n\n    methods: {\n\n        formatBytes(bytes) {\n            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n            if (bytes == 0) return '0 Byte';\n            const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n            return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n        },\n\n        onClickSend() {\n            throttled(() => {\n                this.error = null;\n                this.activity = true;\n                this.hourGlassLabel = 'Sending...';\n\n                revision({\n                    filename: this.currentFilename,\n                    revised_html: this.currentContents,\n                    original_html: this.originalContents,\n                    team_id: typeof this.team === 'object' ? this.team.id : this.team\n                }, this.httpRequestOptions).then(response => {\n                    throttled(() => {\n                        this.active = 1\n                        this.error = null;\n                        this.activity = false;\n                    });\n                }, e => {\n                    throttled(() => {\n                        this.error = e;\n                        this.activity = false;\n                    });\n                });\n            });\n        },\n\n        onClickCancel() {\n            this.error = null;\n            this.active = 0;\n        },\n\n        onClickDownloadAgain() {\n            download(this.download.blob, this.download.zipname);\n        },\n\n        onClickDownload() {\n            throttled(() => {\n                this.hourGlassLabel = 'Generating...';\n                this.activity = true;\n\n                zip(this.currentContents, this.currentFilename)\n                    .then(blob => {\n                        this.download.blob = blob;\n                        this.download.filename = this.currentFilename;\n                        this.download.size = this.formatBytes(blob.size);\n                        this.download.zipname = this.currentFilename.replace(/\\.html/, '.zip');\n\n                        throttled(() => {\n                            this.active = 2;\n\n                            setTimeout(() => {\n                                download(blob, this.download.zipname);\n                            }, 250);\n                        });\n                    });\n            });\n        },\n\n        onClickClose() {\n            window.close();\n        },\n\n        onLintError(e, errors) {\n            this.currentErrors = errors;\n        },\n\n        onLintSuccess(e) {\n            this.currentErrors = [];\n        },\n\n        getSlotContents() {\n            return this.$slots.default ? \n                this.$slots.default\n                    .filter(vnode => {\n                        return vnode.tag.toLowerCase() === 'textarea';\n                    })\n                    .reduce((carry, vnode) => {\n                        return (\n                            carry + vnode.children.map(child => {\n                                return child.text;\n                            }).join('')\n                        );\n                    }, '') : null;\n        },\n\n        format(error) {\n            return `Line ${error.line},${error.column} :: ${error.code} ${\n                error.msg\n            } (${error.rule})`;\n        }\n\n    },\n\n    mounted() {\n        /*\n        this.$nextTick(() => {\n            const { line, ch, code } = this.$route.query;\n\n            this.$refs.editor.$refs.field.cm.state.lint.errors.forEach(error => {\n                if(error.code === code && error.line === line && error.ch === ch) {\n                    error.focus();\n                }\n            });\n        });\n        */\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n.capsule-editor-modal {\n    min-width: 20rem;\n\n    .slide-deck-content {\n        overflow: hidden;\n    }\n\n    .hourglass-label {\n        font-size: 1.4em;\n    }\n    .hourglass-icon {\n        font-size: 3em;\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=946901c8&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Editor.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}