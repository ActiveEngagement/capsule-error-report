{"version":3,"sources":["webpack://CapsuleErrorReport/./src/Components/Editor.vue?ed68","webpack://CapsuleErrorReport/src/Components/Editor.vue","webpack://CapsuleErrorReport/./src/Components/Editor.vue?cebd","webpack://CapsuleErrorReport/./src/Components/Editor.vue?1f7d","webpack://CapsuleErrorReport/./src/Components/Editor.vue?b6ef"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","demo-mode","errors","lint","filename","api-key","apiKey","contents","html","environment","on","lint-errors","onLintError","lint-success","onLintSuccess","close","$event","$router","push","name","scopedSlots","_u","key","fn","active","staticClass","up","leave-active-class","activity","error","_e","src","__webpack_require__","_v","size","variant","click","onClickSend","icon","outline","onClickDownload","label","hourGlassLabel","animate","onClickCancel","onClickClose","_s","download","zipname","onClickDownloadAgain","proxy","model","value","callback","$$v","editor","expression","staticRenderFns","index_es","add","free_solid_svg_icons_index_es","free_regular_svg_icons_index_es","throttled","Object","lodash","Editorvue_type_script_lang_js_","components","Btn","Icon","vue_fontawesome_index_es","Hourglass","SlideDeck","AnimateCss","CapsuleEditor","Editor","HttpException","props","type","required","Array","String","[object Object]","revision","blob","originalErrors","currentErrors","slice","currentFilename","originalFilename","currentContents","getSlotContents","originalContents","computed","baseURL","headers","Authorization","watch","methods","bytes","sizes","i","parseInt","Math","floor","log","round","pow","Functions","revised_html","original_html","httpRequestOptions","then","response","e","formatBytes","replace","setTimeout","window","$slots","default","filter","vnode","tag","toLowerCase","reduce","carry","children","map","child","text","join","line","column","code","msg","rule","$nextTick","ch","$route","query","$refs","field","cm","state","forEach","focus","Components_Editorvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Editor_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Editor_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"CapsuleErrorReport.umd.min.8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('capsule-editor',{ref:\"editor\",attrs:{\"demo-mode\":\"\",\"errors\":_vm.lint.errors,\"filename\":_vm.lint.filename,\"api-key\":_vm.apiKey,\"contents\":_vm.lint.html,\"environment\":_vm.environment},on:{\"lint-errors\":_vm.onLintError,\"lint-success\":_vm.onLintSuccess,\"close\":function($event){return _vm.$router.push({name: 'home'})}},scopedSlots:_vm._u([{key:\"success\",fn:function(){return [_c('slide-deck',{attrs:{\"active\":_vm.active}},[_c('div',{key:0},[_c('div',{staticClass:\"text-center position-relative\"},[_c('animate-css',{attrs:{\"name\":\"fade\",\"up\":\"\",\"leave-active-class\":\"position-absolute w-100 h-100\"}},[(!_vm.activity && !_vm.error)?_c('div',[_c('img',{staticClass:\"capsule-editor-modal-logo\",attrs:{\"src\":require(\"capsule-editor/src/assets/logo-no-text-1028x1028.png\")}}),_c('h1',{staticClass:\"font-weight-light mb-4\"},[_vm._v(\"Document Fixed!\")]),_c('h5',{staticClass:\"font-weight-light mb-4 mx-5\"},[_vm._v(\"Do you want to automatically send it back to us or download it and manually email it as an attachment?\")]),_c('div',{staticClass:\"mb-5\"},[_c('btn',{staticClass:\"mr-2\",attrs:{\"size\":\"lg\",\"variant\":\"success\"},on:{\"click\":_vm.onClickSend}},[_c('icon',{attrs:{\"icon\":\"envelope\"}}),_vm._v(\" Send Now\")],1),_c('btn',{attrs:{\"size\":\"lg\",\"variant\":\"success\",\"outline\":\"\"},on:{\"click\":_vm.onClickDownload}},[_c('icon',{attrs:{\"icon\":\"download\"}}),_vm._v(\" Download\")],1)],1)]):_vm._e()]),_c('animate-css',{attrs:{\"name\":\"fade\",\"up\":\"\",\"leave-active-class\":\"position-absolute w-100 h-100\"}},[(_vm.activity)?_c('div',{staticClass:\"my-5 py-5\"},[_c('div',{staticClass:\"my-5\"},[_c('hourglass',{attrs:{\"label\":_vm.hourGlassLabel,\"animate\":\"\"}})],1)]):(_vm.error)?_c('http-exception',{attrs:{\"error\":_vm.error}},[_c('div',{staticClass:\"text-center\"},[_c('btn',{staticClass:\"mr-2\",attrs:{\"size\":\"lg\"},on:{\"click\":_vm.onClickSend}},[_c('icon',{attrs:{\"icon\":\"redo\"}}),_vm._v(\" Try Again\\n                                \")],1),_c('btn',{attrs:{\"size\":\"lg\",\"variant\":\"secondary\"},on:{\"click\":_vm.onClickCancel}},[_c('icon',{attrs:{\"icon\":\"times-circle\"}}),_vm._v(\" Cancel\\n                                \")],1)],1)]):_vm._e()],1)],1)]),_c('div',{key:1},[_c('animate-css',{attrs:{\"name\":\"fade\",\"leave-active-class\":\"position-absolute w-100 h-100\"}},[_c('div',{staticClass:\"text-center position-relative my-5\"},[_c('icon',{staticClass:\"text-success\",attrs:{\"icon\":\"check-circle\",\"size\":\"6x\"}}),_c('h1',{staticClass:\"font-weight-light mt-3 mb-0\"},[_vm._v(\"Thank You!\")]),_c('h5',{staticClass:\"font-weight-light my-4 mx-5 px-1\"},[_vm._v(\"Thank you for your assistance in fixing these errors. We have received your document and will process it shortly.\")]),_c('btn',{attrs:{\"size\":\"lg\"},on:{\"click\":_vm.onClickClose}},[_c('icon',{attrs:{\"icon\":\"window-close\"}}),_vm._v(\" Close Window\\n                        \")],1)],1)])],1),_c('div',{key:2},[_c('div',{staticClass:\"text-center position-relative my-5\"},[_c('icon',{staticClass:\"text-secondary\",attrs:{\"icon\":['far', 'file-archive'],\"size\":\"6x\"}}),_c('h1',{staticClass:\"font-weight-light mt-3 mb-0\"},[_vm._v(\"File Downloaded!\")]),_c('h4',{staticClass:\"font-weight-light mt-3 mb-1\"},[_vm._v(_vm._s(_vm.download.zipname))]),_c('h5',{staticClass:\"font-weight-light mb-4\"},[_vm._v(\"(\"+_vm._s(_vm.download.size)+\")\")]),_c('div',[_c('btn',{staticClass:\"mr-2\",attrs:{\"size\":\"lg\",\"variant\":\"success\"},on:{\"click\":_vm.onClickDownloadAgain}},[_c('icon',{attrs:{\"icon\":\"download\"}}),_vm._v(\" Download Again\\n                        \")],1),_c('btn',{attrs:{\"size\":\"lg\"},on:{\"click\":_vm.onClickClose}},[_c('icon',{attrs:{\"icon\":\"window-close\"}}),_vm._v(\" Close Window\\n                        \")],1)],1)],1)])])]},proxy:true}]),model:{value:(_vm.editor),callback:function ($$v) {_vm.editor=$$v},expression:\"editor\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n    <capsule-editor\n        ref=\"editor\"\n        demo-mode\n        v-model=\"editor\"\n        :errors=\"lint.errors\"\n        :filename=\"lint.filename\"\n        :api-key=\"apiKey\"\n        :contents=\"lint.html\"\n        :environment=\"environment\"\n        @lint-errors=\"onLintError\"\n        @lint-success=\"onLintSuccess\"\n        @close=\"$router.push({name: 'home'})\">\n\n        <template #success>\n            <slide-deck :active=\"active\">\n                <div :key=\"0\">\n                    <div class=\"text-center position-relative\">\n                        <animate-css name=\"fade\" up leave-active-class=\"position-absolute w-100 h-100\">\n                            <div v-if=\"!activity && !error\">\n                                <img src=\"~capsule-editor/src/assets/logo-no-text-1028x1028.png\" class=\"capsule-editor-modal-logo\" />\n                                <h1 class=\"font-weight-light mb-4\">Document Fixed!</h1>\n                                <h5 class=\"font-weight-light mb-4 mx-5\">Do you want to automatically send it back to us or download it and manually email it as an attachment?</h5>\n                                <div class=\"mb-5\">\n                                    <btn size=\"lg\" variant=\"success\" class=\"mr-2\" @click=\"onClickSend\"><icon icon=\"envelope\" /> Send Now</btn>\n                                    <btn size=\"lg\" variant=\"success\" outline @click=\"onClickDownload\"><icon icon=\"download\" /> Download</btn>\n                                </div>\n                            </div>\n                        </animate-css>\n                        <animate-css name=\"fade\" up leave-active-class=\"position-absolute w-100 h-100\">\n                            <div v-if=\"activity\" class=\"my-5 py-5\">\n                                <div class=\"my-5\">\n                                    <hourglass :label=\"hourGlassLabel\" animate />\n                                </div>\n                            </div>\n                            <http-exception v-else-if=\"error\" :error=\"error\">\n                                <div class=\"text-center\">\n                                    <btn size=\"lg\" class=\"mr-2\" @click=\"onClickSend\">\n                                        <icon icon=\"redo\" /> Try Again\n                                    </btn>\n                                    <btn size=\"lg\" variant=\"secondary\" @click=\"onClickCancel\">\n                                        <icon icon=\"times-circle\" /> Cancel\n                                    </btn>\n                                </div>\n                            </http-exception>\n                        </animate-css>\n                    </div>\n                </div>\n                <div :key=\"1\">\n                    <animate-css name=\"fade\" leave-active-class=\"position-absolute w-100 h-100\">\n                        <div class=\"text-center position-relative my-5\">\n                            <icon icon=\"check-circle\" size=\"6x\" class=\"text-success\" />\n                            <h1 class=\"font-weight-light mt-3 mb-0\">Thank You!</h1>\n                            <h5 class=\"font-weight-light my-4 mx-5 px-1\">Thank you for your assistance in fixing these errors. We have received your document and will process it shortly.</h5>\n                            <btn size=\"lg\" @click=\"onClickClose\">\n                                <icon icon=\"window-close\" /> Close Window\n                            </btn>\n                        </div>\n                    </animate-css>\n                </div>\n                <div :key=\"2\">\n                    <div class=\"text-center position-relative my-5\">\n                        <icon :icon=\"['far', 'file-archive']\" size=\"6x\" class=\"text-secondary\" />\n                        <h1 class=\"font-weight-light mt-3 mb-0\">File Downloaded!</h1>\n                        <h4 class=\"font-weight-light mt-3 mb-1\">{{ download.zipname }}</h4>\n                        <h5 class=\"font-weight-light mb-4\">({{ download.size }})</h5>\n                        <div>\n                            <btn class=\"mr-2\" size=\"lg\" variant=\"success\" @click=\"onClickDownloadAgain\">\n                                <icon icon=\"download\" /> Download Again\n                            </btn>\n                            <btn size=\"lg\" @click=\"onClickClose\">\n                                <icon icon=\"window-close\" /> Close Window\n                            </btn>\n                        </div>\n                    </div>\n                </div>\n            </slide-deck>\n        </template>\n        \n    </capsule-editor>\n       \n</template>\n\n<script>\nimport { throttle } from 'lodash';\nimport Hourglass from 'vue-hourglass';\nimport HttpException from './HttpException';\nimport Btn from 'vue-interface/src/Components/Btn';\nimport CapsuleEditor from 'capsule-editor/src/Editor';\nimport { download, revision, zip } from '@/Helpers/Functions';\nimport SlideDeck from 'vue-interface/src/Components/SlideDeck';\nimport AnimateCss from 'vue-interface/src/Components/AnimateCss';\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/vue-fontawesome';\nimport { faFileArchive } from '@fortawesome/free-regular-svg-icons';\nimport { faEnvelope, faDownload, faCheckCircle, faTimesCircle, faWindowClose, faRedo } from '@fortawesome/free-solid-svg-icons';\n\nlibrary.add(faRedo);\nlibrary.add(faEnvelope);\nlibrary.add(faDownload);\nlibrary.add(faCheckCircle);\nlibrary.add(faFileArchive);\nlibrary.add(faTimesCircle);\nlibrary.add(faWindowClose);\n\nconst throttled = throttle(fn => {\n    fn && fn();\n}, 2500);\n\nexport default {\n    \n    name: 'Editor',\n\n    components: {\n        Btn,\n        Icon,\n        Hourglass,\n        SlideDeck,\n        AnimateCss,\n        CapsuleEditor,\n        HttpException\n    },\n\n    props: {\n        \n        lint: {\n            type: Object,\n            required: true\n        },\n\n        errors: Array,\n\n        apiKey: {\n            type: String,\n            required: true\n        },\n\n        environment: {\n            type: String,\n            default() {\n                return process.env.NODE_ENV;\n            }\n        }\n    },\n\n    data() {\n        const errors = this.errors || [];\n\n        return {\n            active: 0,\n            error: null,\n            editor: null,\n            revision: null,\n            activity: false,\n            download: {\n                blob: null,\n                size: null,\n                zipname: null,\n                filename: null,\n            },\n            hourGlassLabel: null,\n            originalErrors: this.errors,\n            currentErrors: errors.slice(0),\n            currentFilename: this.lint.filename,\n            originalFilename: this.lint.filename,\n            currentContents: this.lint.html || this.getSlotContents(),\n            originalContents: this.lint.html || this.getSlotContents()\n        };\n    },\n\n    computed: {\n\n        httpRequestOptions() {\n            return {\n                baseURL: `http://api.thecapsule.${this.environment === 'production' ? 'com' : 'test'}/v1`,\n                headers: {\n                    Authorization: `Bearer ${this.apiKey}`\n                }\n            };\n        }\n        \n    },\n\n    watch: {\n\n\n        editor({ filename, contents }) {\n            this.currentFilename = filename;\n            this.currentContents = contents;\n        }\n    },\n\n    methods: {\n\n        formatBytes(bytes) {\n            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n            if (bytes == 0) return '0 Byte';\n            const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n            return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n        },\n\n        onClickSend() {\n            throttled(() => {\n                this.error = null;\n                this.activity = true;\n                this.hourGlassLabel = 'Sending...';\n\n                revision({\n                    filename: this.currentFilename,\n                    revised_html: this.currentContents,\n                    original_html: this.originalContents\n                }, this.httpRequestOptions).then(response => {\n                    throttled(() => {\n                        this.active = 1\n                        this.error = null;\n                        this.activity = false;\n                    });\n                }, e => {\n                    throttled(() => {\n                        this.error = e;\n                        this.activity = false;\n                    });\n                });\n            });\n        },\n\n        onClickCancel() {\n            this.error = null;\n            this.active = 0;\n        },\n\n        onClickDownloadAgain() {\n            download(this.download.blob, this.download.zipname);\n        },\n\n        onClickDownload() {\n            throttled(() => {\n                this.hourGlassLabel = 'Generating...';\n                this.activity = true;\n\n                zip(this.currentContents, this.currentFilename)\n                    .then(blob => {\n                        this.download.blob = blob;\n                        this.download.filename = this.currentFilename;\n                        this.download.size = this.formatBytes(blob.size);\n                        this.download.zipname = this.currentFilename.replace(/\\.html/, '.zip');\n\n                        throttled(() => {\n                            this.active = 2;\n\n                            setTimeout(() => {\n                                download(blob, this.download.zipname);\n                            }, 250);\n                        });\n                    });\n            });\n        },\n\n        onClickClose() {\n            window.close();\n        },\n\n        onLintError(e, errors) {\n            this.currentErrors = errors;\n        },\n\n        onLintSuccess(e) {\n            this.currentErrors = [];\n        },\n\n        getSlotContents() {\n            return this.$slots.default ? \n                this.$slots.default\n                    .filter(vnode => {\n                        return vnode.tag.toLowerCase() === 'textarea';\n                    })\n                    .reduce((carry, vnode) => {\n                        return (\n                            carry + vnode.children.map(child => {\n                                return child.text;\n                            }).join('')\n                        );\n                    }, '') : null;\n        },\n\n        format(error) {\n            return `Line ${error.line},${error.column} :: ${error.code} ${\n                error.msg\n            } (${error.rule})`;\n        }\n\n    },\n\n    mounted() {\n        this.$nextTick(() => {\n            const { line, ch, code } = this.$route.query;\n\n            this.$refs.editor.$refs.field.cm.state.lint.errors.forEach(error => {\n                if(error.code === code && error.line === line && error.ch === ch) {\n                    error.focus();\n                }\n            });\n        });\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n.capsule-editor-modal {\n    min-width: 20rem;\n\n    .slide-deck-content {\n        overflow: hidden;\n    }\n\n    .hourglass-label {\n        font-size: 1.4em;\n    }\n    .hourglass-icon {\n        font-size: 3em;\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=323dab96&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Editor.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}